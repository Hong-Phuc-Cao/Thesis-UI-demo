import{_ as h,c as d,a as s,t as n,b as o,A as e,o as _}from"./index-DsFX8v4I.js";const g={name:"ThongTinCaNhan",data(){return{MaGV:"",HoTenGV:"",NgaySinh:"",GioiTinh:1,SoDT:"",Mail:"",DiaChi:"",MaBM:"",MaCV:"",TenBM:""}},async created(){await this.goi_api_lay_thong_tin_session(),await this.goi_api_lay_thong_tin_giao_vien()},methods:{async goi_api_lay_thong_tin_session(){try{const a=await o.get(`${e}/dang-nhap/lay-thong-tin-session`,{withCredentials:!0});a.data.success&&(this.MaCV=a.data.thongTinSession.MaCV,this.MaGV=a.data.thongTinSession.MaGV,this.TenBM=a.data.thongTinSession.TenBM),console.log("Thông tin từ session:",a.data)}catch(a){throw console.error("Lỗi gọi api lấy thông tin session",a),a}},async goi_api_lay_thong_tin_giao_vien(){try{console.log(this.MaGV);const a=await o.get(`${e}/giao-vien/tim-giao-vien?keyword=${this.MaGV}`);a.data.success&&(this.MaGV=a.data.data[0].MaGV,this.HoTenGV=a.data.data[0].HoTenGV,this.NgaySinh=a.data.data[0].NgaySinh,this.GioiTinh=a.data.data[0].GioiTinh,this.SoDT=a.data.data[0].SoDT,this.Mail=a.data.data[0].Mail,this.DiaChi=a.data.data[0].DiaChi,this.MaBM=a.data.data[0].MaBM)}catch(a){throw console.error("Lỗi gọi api lấy thông tin giáo viên",a),a}},formatNgaySinh(a){return a?new Date(a).toLocaleDateString("vi-VN"):""}}},c={class:"thong-tin-ca-nhan"},r={class:"thong-tin-wrapper"},p={class:"thong-tin-item"},v={class:"value"},M={class:"thong-tin-item"},T={class:"value"},m={class:"thong-tin-item"},y={class:"value"},u={class:"thong-tin-item"},G={class:"value"},V={class:"thong-tin-item"},S={class:"value"},N={class:"thong-tin-item"},B={class:"value"},b={class:"thong-tin-item"},f={class:"value"},D={class:"thong-tin-item"},w={class:"value"};function C(a,t,H,x,i,l){return _(),d("div",c,[t[8]||(t[8]=s("h2",null,"Thông tin cá nhân",-1)),s("div",r,[s("div",p,[t[0]||(t[0]=s("span",{class:"label"},"Mã giáo viên:",-1)),s("span",v,n(i.MaGV),1)]),s("div",M,[t[1]||(t[1]=s("span",{class:"label"},"Họ và tên:",-1)),s("span",T,n(i.HoTenGV),1)]),s("div",m,[t[2]||(t[2]=s("span",{class:"label"},"Ngày sinh:",-1)),s("span",y,n(l.formatNgaySinh(i.NgaySinh)),1)]),s("div",u,[t[3]||(t[3]=s("span",{class:"label"},"Giới tính:",-1)),s("span",G,n(i.GioiTinh==1?"Nam":"Nữ"),1)]),s("div",V,[t[4]||(t[4]=s("span",{class:"label"},"Số điện thoại:",-1)),s("span",S,n(i.SoDT),1)]),s("div",N,[t[5]||(t[5]=s("span",{class:"label"},"Email:",-1)),s("span",B,n(i.Mail),1)]),s("div",b,[t[6]||(t[6]=s("span",{class:"label"},"Địa chỉ:",-1)),s("span",f,n(i.DiaChi),1)]),s("div",D,[t[7]||(t[7]=s("span",{class:"label"},"Bộ môn:",-1)),s("span",w,n(i.TenBM),1)])])])}const k=h(g,[["render",C],["__scopeId","data-v-ca33b0eb"]]);export{k as default};
