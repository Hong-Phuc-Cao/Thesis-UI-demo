import{_ as K,c as l,a,e as p,t as _,w as V,d as C,f,F as m,g as M,S as T,b as d,A as g,o as u,B as H,n as y}from"./index-DsFX8v4I.js";import{s as S,l as G,a as k}from"./so-sanh-nam-s7tHrirU.js";const L={data(){return{NamHoc:"",HocKy:"",danhSachNamHoc:[],namHocDuocChon:"",danhSachGiaoVien:[],MaBM:"",TenBM:"",SoTietChuan:"",danhSachMon:[],danhSachLop:[],phanCong:[],phanCongBanDau:[],draggedTeacher:null,danhSachGiaoVienKiemNhiem:[],danhSachGiaoVienGiuChucVu:[],danhSachChuongTrinh:[],SoTuanHK1:"",SoTuanHK2:"",duocXoa:!1}},async created(){try{await this.lay_thong_tin_session(),this.NamHoc=await G(),this.HocKy=await k(),this.namHocDuocChon=this.NamHoc,await Promise.all([this.hien_danh_sach_nam_hoc(),this.hien_danh_sach_mon_theo_to_bo_mon(),this.hien_danh_sach_giao_vien_theo_bo_mon(),this.hien_danh_sach_chuong_trinh(),this.lay_so_tuan_hoc_ky("1").then(t=>{this.SoTuanHK1=t}),this.lay_so_tuan_hoc_ky("2").then(t=>{this.SoTuanHK2=t})])}catch(t){console.error("Lỗi trong created:",t)}},methods:{async lay_thong_tin_session(){try{const t=await d.get(`${g}/dang-nhap/lay-thong-tin-session`,{withCredentials:!0});t.data.success&&(this.MaBM=t.data.thongTinSession.MaBM,this.TenBM=t.data.thongTinSession.TenBM)}catch(t){throw console.error(t),t}},async hien_thong_tin(t){const n=S(this.NamHoc,t);this.duocXoa=n=="nam_hien_tai"||n=="nam_sau",await Promise.all([this.hien_danh_sach_lop(),this.hien_danh_sach_phan_cong(t,"1"),this.hien_danh_sach_phan_cong(t,"2"),this.hien_danh_sach_giao_vien_giu_chuc_vu(t,"1"),this.hien_danh_sach_giao_vien_giu_chuc_vu(t,"2"),this.hien_danh_sach_giao_vien_kiem_nhiem(t,"1"),this.hien_danh_sach_giao_vien_kiem_nhiem(t,"2"),this.lay_so_tiet_chuan(t)])},format_ngay(t){const n=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),h=String(t.getDate()).padStart(2,"0");return`${n}-${s}-${h}`},async hien_danh_sach_nam_hoc(){try{const t=await d.get(`${g}/nam-hoc/danh-sach-nam-hoc`);t.data.success&&(this.danhSachNamHoc=t.data.data)}catch(t){throw console.error(t),t}},async lay_nam_hoc(){const t=new Date;try{const n=await d.get(`${g}/nam-hoc/lay-nam-hoc-hien-tai?NgayHomNay=${this.format_ngay(t)}`);n.data&&(this.NamHoc=n.data.result.NamHoc,this.namHocDuocChon=this.NamHoc)}catch(n){throw console.error("Lỗi lấy API năm học",n),n}},async lay_so_tiet_chuan(t){try{const n=await d.get(`${g}/nam-hoc/lay-so-tiet-chuan?NamHoc=${t}`);n.data.success&&(this.SoTietChuan=n.data.data[0].SoTietChuan)}catch(n){throw console.error(n),n}},async lay_so_tuan_hoc_ky(t){try{const n=await d.get(`${g}/hoc-ky/lay-so-tuan?HocKy=${t}`);if(n.data.success)return n.data.data[0].SoTuan}catch(n){throw console.error(n),n}},async hien_danh_sach_mon_theo_to_bo_mon(){try{const t=await d.get(`${g}/mon-hoc/danh-sach-mon-hoc-theo-bo-mon?MaBM=${this.MaBM}`);t.data.success&&(this.danhSachMon=t.data.data)}catch(t){throw console.error(t),t}},async hien_danh_sach_giao_vien_theo_bo_mon(){try{const t=await d.get(`${g}/giao-vien/danh-sach-giao-vien-bm?MaBM=${this.MaBM}`);t.data.success&&(this.danhSachGiaoVien=t.data.data)}catch(t){throw console.error(t),t}},async hien_danh_sach_lop(){try{const t=await d.get(`${g}/lop/danh-sach-lop?NamHoc=${this.namHocDuocChon}`);t.data.success&&(this.danhSachLop=t.data.data)}catch(t){throw console.error(t),t}},async hien_danh_sach_phan_cong(t,n){try{const s=await d.get(`
                    ${g}/giang-day/danh-sach-giang-day?NamHoc=${t}&HocKy=${n}&MaBM=${this.MaBM}
                `);if(s.data.success){const h=s.data.danhSach.map(i=>({maGV:i.MaGV,lop:{TenLop:i.TenLop},mon:{MaMon:i.MaMon,TenMon:i.TenMon},soTietTuan:i.SoTietTuan,hocKy:n}));this.phanCong=[...this.phanCong.filter(i=>i.hocKy!=n),...h],this.phanCongBanDau=[...this.phanCongBanDau.filter(i=>i.hocKy!=n),...h]}}catch(s){throw console.error(s),s}},async hien_danh_sach_giao_vien_giu_chuc_vu(t,n){try{const s=await d.get(`
                    ${g}/giang-day/lay-so-tiet-mien-giu-chuc-vu?NamHoc=${t}&HocKy=${n}&MaBM=${this.MaBM}
                `);if(s.data.success){const h=s.data.data.map(i=>({...i,HocKy:n,TenCV:i.TenCV||"Không giữ chức vụ"}));this.danhSachGiaoVienGiuChucVu=[...this.danhSachGiaoVienGiuChucVu.filter(i=>i.HocKy!=n),...h]}}catch(s){throw console.error(s),s}},async hien_danh_sach_giao_vien_kiem_nhiem(t,n){try{const s=await d.get(`
                    ${g}/giang-day/lay-so-tiet-mien-kiem-nhiem?NamHoc=${t}&HocKy=${n}&MaBM=${this.MaBM}
                `);if(s.data.success){const h=s.data.data.map(i=>({...i,HocKy:n,TenNV:i.TenNV||"Không kiêm nhiệm"}));this.danhSachGiaoVienKiemNhiem=[...this.danhSachGiaoVienKiemNhiem.filter(i=>i.HocKy!==n),...h]}}catch(s){throw console.error(s),s}},async hien_danh_sach_chuong_trinh(){try{const t=await d.get(`${g}/chuong-trinh/danh-sach-chuong-trinh`);t.data.success&&(this.danhSachChuongTrinh=t.data.data.map(n=>({MaMon:n.MaMon,SoTietTuan:n.SoTietTuan,Khoi:n.Khoi,TenMon:n.TenMon,MaNhom:n.MaNhom,TenNhom:n.TenNhom,HocKy:n.HocKy,MaBM:n.MaBM})))}catch(t){throw console.error("Lỗi lấy danh sách chương trình:",t),t}},duocXoaHocKy(t){if(!this.duocXoa)return!1;const n=S(this.NamHoc,this.namHocDuocChon);if(n=="nam_sau")return!0;if(n=="nam_hien_tai"){if(this.HocKy=="1")return!0;if(this.HocKy=="2")return t!="1"}return!1},showPopup(t,n,s){if(s=="ChucVu"){const h=this.danhSachGiaoVienGiuChucVu.filter(o=>o.MaGV==t&&o.HocKy==n),i=h.length>0?h.map(o=>`${o.TenCV} (${o.SoTietMien||0} tiết)`).join("<br>"):"Không có chức vụ",e=h.reduce((o,c)=>o+(c.SoTietMien||0),0);T.fire({title:`Thông tin chức vụ học kỳ ${n}`,html:`
                        <ul class="custom-list">
                            <li><strong>Mã giáo viên:</strong> ${t}</li>
                             <li><strong>Danh sách chức vụ:</strong> <br/> ${i}</li>
                            <li><strong>Số tiết chức vụ:</strong> ${e}</li>
                        </ul>
                    `,icon:"info",confirmButtonText:"Đóng",customClass:{popup:"custom-popup"}})}else if(s=="KiemNhiem"){const h=this.danhSachGiaoVienKiemNhiem.filter(o=>o.MaGV==t&&o.HocKy==n),i=h.length>0?h.map(o=>`${o.TenNV} (${o.SoTietMien||0} tiết`).join("<br>"):"Không có kiêm nhiệm",e=h.reduce((o,c)=>o+(c.SoTietMien||0),0);T.fire({title:`Thông tin kiêm nhiệm học kỳ ${n}`,html:`
                        <ul class="custom-list">
                            <li><strong>Mã giáo viên:</strong> ${t}</li>
                            <li><strong>Danh sách kiêm nhiệm:</strong> <br/> ${i}</li>
                            <li><strong>Tổng số tiết kiêm nhiệm:</strong> ${e}</li>
                        </ul>
                    `,icon:"info",confirmButtonText:"Đóng",customClass:{popup:"custom-popup"}})}else console.log("Có lỗi hiển thị thông tin bảng kết quả")},hien_so_tiet_mien_cv(t,n){return this.danhSachGiaoVienGiuChucVu.filter(h=>h.MaGV==t&&h.HocKy==n).reduce((h,i)=>h+(i.SoTietMien||0),0)},hien_so_tiet_mien_kn(t,n){return this.danhSachGiaoVienKiemNhiem.filter(h=>h.MaGV==t&&h.HocKy==n).reduce((h,i)=>h+(i.SoTietMien||0),0)},hien_so_tiet_phan_cong(t,n){return this.phanCong.filter(s=>s.maGV==t&&s.hocKy==n).reduce((s,h)=>s+(h.soTietTuan||0),0)},hien_tong_so_tiet(t,n){const s=this.hien_so_tiet_phan_cong(t,n),h=this.hien_so_tiet_mien_cv(t,n),i=this.hien_so_tiet_mien_kn(t,n);return s+h+i},hien_tong_so_tiet_vuot_gio(t){const n=this.hien_tong_so_tiet(t,"1"),s=this.hien_tong_so_tiet(t,"2"),h=this.SoTietChuan,i=this.SoTuanHK1,e=this.SoTuanHK2;return Math.max(0,(n-h)*i+(s-h)*e)},getAssignedTeacher(t,n,s){const h=this.phanCong.find(i=>i.lop.TenLop===t.TenLop&&i.mon.MaMon===n.MaMon&&i.hocKy===s);if(h){const i=this.danhSachGiaoVien.find(e=>e.MaGV===h.maGV);return i?`${i.MaGV} - ${i.HoTenGV}`:h.maGV}return null},async luu_phan_cong(){try{const t=["1","2"];for(const n of t){const s=this.phanCong.filter(e=>e.hocKy===n&&!this.phanCongBanDau.some(o=>o.lop.TenLop===e.lop.TenLop&&o.mon.MaMon===e.mon.MaMon&&o.hocKy===e.hocKy)),h=this.phanCong.filter(e=>{const o=this.phanCongBanDau.find(c=>c.lop.TenLop===e.lop.TenLop&&c.mon.MaMon===e.mon.MaMon&&c.hocKy===e.hocKy);return o&&o.maGV!==e.maGV&&e.hocKy===n}),i=this.phanCongBanDau.filter(e=>e.hocKy===n&&!this.phanCong.some(o=>o.lop.TenLop===e.lop.TenLop&&o.mon.MaMon===e.mon.MaMon&&o.hocKy===e.hocKy));for(const e of s){const{Khoi:o,KyHieu:c,STTLop:r}=this.tachTenLop(e.lop.TenLop);await d.post(`${g}/giang-day/them-giang-day`,{MaGV:e.maGV,MaMon:e.mon.MaMon,STTLop:r,Khoi:o,KyHieu:c,NamHoc:this.namHocDuocChon,HocKy:n},{withCredentials:!0})}for(const e of h){const{Khoi:o,KyHieu:c,STTLop:r}=this.tachTenLop(e.lop.TenLop);await d.put(`${g}/giang-day/sua-giang-day?MaMon=${e.mon.MaMon}&STTLop=${r}&Khoi=${o}&KyHieu=${c}&NamHoc=${this.NamHoc}&HocKy=${n}`,{MaGV:e.maGV},{withCredentials:!0})}for(const e of i){const{Khoi:o,KyHieu:c,STTLop:r}=this.tachTenLop(e.lop.TenLop);await d.delete(`${g}/giang-day/xoa-giang-day?MaMon=${e.mon.MaMon}&STTLop=${r}&Khoi=${o}&KyHieu=${c}&NamHoc=${this.NamHoc}&HocKy=${n}`,{withCredentials:!0})}}this.phanCongBanDau=[...this.phanCong],T.fire({icon:"success",title:"Lưu thành công!",text:"Dữ liệu đã được lưu vào hệ thống.",showConfirmButton:!1,timer:1500,timerProgressBar:!0,toast:!0,position:"top-end",background:"#f0fff4",iconColor:"#2ecc71",customClass:{popup:"success-toast",title:"success-title",content:"success-content"}})}catch(t){console.error("Lỗi lưu phân công:",t),T.fire("Lỗi!","Có lỗi xảy ra khi lưu dữ liệu!")}},tachTenLop(t){if(!t||typeof t!="string")throw new Error("TenLop không hợp lệ");const n=/^(\d+)([A-Z])(\d+)$/,s=t.match(n);if(!s)throw new Error(`TenLop "${t}" không đúng định dạng (VD: 10A3)`);return{Khoi:s[1],KyHieu:s[2],STTLop:s[3]}},removeAssignment(t,n,s){if(!this.duocXoaHocKy(s)){T.fire("Lỗi!",`Không thể xóa phân công cho học kỳ ${s} trong năm ${this.namHocDuocChon}!`,"error");return}this.phanCong=this.phanCong.filter(h=>!(h.lop.TenLop==t.TenLop&&h.mon.MaMon==n.MaMon&&h.hocKy==s))},dragStart(t,n){this.draggedTeacher=n,t.dataTransfer.setData("text/plain",n.MaGV)},async onDrop(t,n,s,h){if(t.preventDefault(),!!this.draggedTeacher){if(!this.duocXoaHocKy(h)){T.fire("Lỗi!",`Không thể chỉnh sửa phân công cho học kỳ ${h} trong năm ${this.namHocDuocChon}!`,"error");return}try{const{Khoi:i}=this.tachTenLop(n.TenLop),e=this.danhSachChuongTrinh.find(r=>r.MaMon===s.MaMon&&r.Khoi===i&&r.HocKy===h);if(!e||!e.SoTietTuan){T.fire("Lỗi!",`Không tìm thấy số tiết tuần cho môn ${s.TenMon} khối ${i}!`,"error");return}const o=e.SoTietTuan,c=this.phanCong.findIndex(r=>r.lop.TenLop===n.TenLop&&r.mon.MaMon===s.MaMon&&r.hocKy===h);c===-1?this.phanCong.push({maGV:this.draggedTeacher.MaGV,lop:{TenLop:n.TenLop},mon:{MaMon:s.MaMon,TenMon:s.TenMon},soTietTuan:o,hocKy:h}):this.phanCong[c]={...this.phanCong[c],maGV:this.draggedTeacher.MaGV,soTietTuan:o},this.draggedTeacher=null}catch(i){console.error("Lỗi trong onDrop:",i),T.fire("Lỗi!","Không thể thực hiện phân công!","error")}}},tai_thong_ke(){this.luu_phan_cong();const t="Bảng thống kê phân công chuyên môn",n=["STT","Mã giáo viên","Họ tên giáo viên","Số tiết chuẩn","Số tiết CV (HK I)","Số tiết KN (HK I)","Số tiết dạy (HK I)","Số tiết CV (HK II)","Số tiết KN (HK II)","Số tiết dạy (HK II)","TS tiết HK I","TS tiết HK II","TS tiết vượt giờ"],s=this.danhSachGiaoVien.map((c,r)=>[r+1,c.MaGV,c.HoTenGV,this.SoTietChuan,this.hien_so_tiet_mien_cv(c.MaGV,"1"),this.hien_so_tiet_mien_kn(c.MaGV,"1"),this.hien_so_tiet_phan_cong(c.MaGV,"1"),this.hien_so_tiet_mien_cv(c.MaGV,"2"),this.hien_so_tiet_mien_kn(c.MaGV,"2"),this.hien_so_tiet_phan_cong(c.MaGV,"2"),this.hien_tong_so_tiet(c.MaGV,"1"),this.hien_tong_so_tiet(c.MaGV,"2"),this.hien_tong_so_tiet_vuot_gio(c.MaGV)]),h=[t,"",n.join(","),...s.map(c=>c.join(",")),"","Tổ trưởng bộ môn ",this.TenBM].join(`
`),i=new Blob([h],{type:"text/csv;charset=utf-8;"}),e=document.createElement("a"),o=URL.createObjectURL(i);e.setAttribute("href",o),e.setAttribute("download",`PhanCong_${this.namHocDuocChon}.csv`),e.click(),URL.revokeObjectURL(o)}}},b={class:"container"},w={class:"container__year_info"},N={class:"highlight"},v={class:"container__action"},D={class:"container__filter"},I=["value"],B={class:"assignment-wrapper"},$={class:"teacher-list"},x=["onDragstart"],A={class:"assignment-table"},P={class:"semester-table"},X=["onDrop"],j={key:0,class:"assigned-teacher"},U=["onClick"],E={key:1,class:"empty-slot"},R={class:"semester-table"},F=["onDrop"],q={key:0,class:"assigned-teacher"},O=["onClick"],Q={key:1,class:"empty-slot"},z={class:"result-table"},Y={border:"1"},Z={class:"table-display-other"},J={class:"table-display-other"},W={class:"table-display-other"},nn={class:"table-display-other"},tn=["onClick"],on=["onClick"],en={class:"table-display-term1"},an=["onClick"],sn=["onClick"],hn={class:"table-display-term2"},cn={class:"table-display-term1"},rn={class:"table-display-term2"},_n={class:"download-button"};function ln(t,n,s,h,i,e){return u(),l("div",b,[n[21]||(n[21]=a("h1",null,"Phân công chuyên môn",-1)),a("div",w,[n[8]||(n[8]=p(" Phân công chuyên môn tổ bộ môn: ")),a("span",N,_(i.TenBM),1)]),a("div",v,[a("div",D,[n[10]||(n[10]=a("b",null,"Năm học",-1)),V(a("select",{"onUpdate:modelValue":n[0]||(n[0]=o=>i.namHocDuocChon=o),name:"namHoc",id:"namHoc"},[n[9]||(n[9]=a("option",{disabled:"",value:""},"Chọn năm học",-1)),(u(!0),l(m,null,M(i.danhSachNamHoc,o=>(u(),l("option",{key:o.NamHoc,value:o.NamHoc},_(o.NamHoc),9,I))),128))],512),[[f,i.namHocDuocChon]]),a("button",{id:"filter-button",onClick:n[1]||(n[1]=o=>e.hien_thong_tin(i.namHocDuocChon))}," Liệt kê "),i.duocXoa?(u(),l("button",{key:0,id:"save-button",onClick:n[2]||(n[2]=(...o)=>e.luu_phan_cong&&e.luu_phan_cong(...o))}," Lưu ")):C("",!0)])]),a("div",B,[a("div",$,[n[11]||(n[11]=a("h3",null,"Danh sách giáo viên",-1)),(u(!0),l(m,null,M(i.danhSachGiaoVien,o=>(u(),l("div",{class:"teacher-item",key:o.MaGV,draggable:"true",onDragstart:c=>e.dragStart(c,o)},_(o.MaGV)+" - "+_(o.HoTenGV),41,x))),128))]),a("div",A,[a("table",P,[n[13]||(n[13]=a("caption",null,"Học kỳ I",-1)),a("thead",null,[a("tr",null,[n[12]||(n[12]=a("th",null,"Lớp / Môn",-1)),(u(!0),l(m,null,M(i.danhSachMon,o=>(u(),l("th",{key:o.MaMon},_(o.TenMon),1))),128))])]),a("tbody",null,[(u(!0),l(m,null,M(i.danhSachLop,o=>(u(),l("tr",{key:o},[a("td",null,_(o.TenLop),1),(u(!0),l(m,null,M(i.danhSachMon,c=>(u(),l("td",{key:`${o.TenLop}-${c.MaMon}-1`,class:"assignment-cell",onDragover:n[3]||(n[3]=H(()=>{},["prevent"])),onDragenter:n[4]||(n[4]=H(()=>{},["prevent"])),onDrop:r=>e.onDrop(r,o,c,"1")},[e.getAssignedTeacher(o,c,"1")?(u(),l("div",j,[p(_(e.getAssignedTeacher(o,c,"1"))+" ",1),a("button",{onClick:r=>e.removeAssignment(o,c,"1")},"×",8,U)])):(u(),l("div",E,"   "))],40,X))),128))]))),128))])]),a("table",R,[n[15]||(n[15]=a("caption",null,"Học kỳ II",-1)),a("thead",null,[a("tr",null,[n[14]||(n[14]=a("th",null,"Lớp / Môn",-1)),(u(!0),l(m,null,M(i.danhSachMon,o=>(u(),l("th",{key:o.MaMon},_(o.TenMon),1))),128))])]),a("tbody",null,[(u(!0),l(m,null,M(i.danhSachLop,o=>(u(),l("tr",{key:o},[a("td",null,_(o.TenLop),1),(u(!0),l(m,null,M(i.danhSachMon,c=>(u(),l("td",{key:`${o.TenLop}-${c.MaMon}-2`,class:"assignment-cell",onDragover:n[5]||(n[5]=H(()=>{},["prevent"])),onDragenter:n[6]||(n[6]=H(()=>{},["prevent"])),onDrop:r=>e.onDrop(r,o,c,"2")},[e.getAssignedTeacher(o,c,"2")?(u(),l("div",q,[p(_(e.getAssignedTeacher(o,c,"2"))+" ",1),a("button",{onClick:r=>e.removeAssignment(o,c,"2")},"×",8,O)])):(u(),l("div",Q,"   "))],40,F))),128))]))),128))])])])]),a("div",z,[n[19]||(n[19]=a("h2",null,"Kết quả phân công",-1)),a("div",null,[n[16]||(n[16]=a("strong",null,"Số tuần HK 1: ",-1)),p(_(i.SoTuanHK1),1)]),a("div",null,[n[17]||(n[17]=a("strong",null,"Số tuần HK 2: ",-1)),p(" "+_(i.SoTuanHK2),1)]),n[20]||(n[20]=a("div",{class:"formula-info"},[a("strong",null,"Số tiết vượt giờ"),p(" = (Tổng tiết HK I - Số tiết chuẩn) * Số tuần HK I + (Tổng tiết HK II - Số tiết chuẩn) * Số tuần HK II ")],-1)),a("table",Y,[n[18]||(n[18]=a("thead",null,[a("tr",null,[a("th",null,"STT"),a("th",null,"Mã giáo viên"),a("th",null,"Họ tên giáo viên"),a("th",null,"Số tiết chuẩn"),a("th",null,"Số tiết CV HK I"),a("th",null,"Số tiết KN HK I"),a("th",null,"Số tiết dạy HK I"),a("th",null,"Số tiết CV HK II"),a("th",null,"Số tiết KN HK II"),a("th",null,"Số tiết dạy HK II"),a("th",null,"TS tiết HK I"),a("th",null,"TS tiết HK II"),a("th",null,"TS tiết vượt giờ")])],-1)),a("tbody",null,[(u(!0),l(m,null,M(i.danhSachGiaoVien,(o,c)=>(u(),l("tr",{key:o.MaGV},[a("td",Z,_(c+1),1),a("td",J,_(o.MaGV),1),a("td",W,_(o.HoTenGV),1),a("td",nn,_(i.SoTietChuan||0),1),a("td",{onClick:r=>e.showPopup(o.MaGV,"1","ChucVu"),class:y([{"red-text":e.hien_so_tiet_mien_cv(o.MaGV,"1")>0},"table-display-term1"])},_(e.hien_so_tiet_mien_cv(o.MaGV,"1")),11,tn),a("td",{onClick:r=>e.showPopup(o.MaGV,"1","KiemNhiem"),class:y([{"red-text":e.hien_so_tiet_mien_kn(o.MaGV,"1")>0},"table-display-term1"])},_(e.hien_so_tiet_mien_kn(o.MaGV,"1")),11,on),a("td",en,_(e.hien_so_tiet_phan_cong(o.MaGV,"1")),1),a("td",{onClick:r=>e.showPopup(o.MaGV,"2","ChucVu"),class:y([{"red-text":e.hien_so_tiet_mien_cv(o.MaGV,"2")>0},"table-display-term2"])},_(e.hien_so_tiet_mien_cv(o.MaGV,"2")),11,an),a("td",{onClick:r=>e.showPopup(o.MaGV,"2","KiemNhiem"),class:y([{"red-text":e.hien_so_tiet_mien_kn(o.MaGV,"2")>0},"table-display-term2"])},_(e.hien_so_tiet_mien_kn(o.MaGV,"2")),11,sn),a("td",hn,_(e.hien_so_tiet_phan_cong(o.MaGV,"2")),1),a("td",cn,_(e.hien_tong_so_tiet(o.MaGV,"1")),1),a("td",rn,_(e.hien_tong_so_tiet(o.MaGV,"2")),1),a("td",{class:y([{"red-text":e.hien_tong_so_tiet_vuot_gio(o.MaGV)>200},"table-display-other"])},_(e.hien_tong_so_tiet_vuot_gio(o.MaGV)),3)]))),128))])]),a("div",_n,[a("button",{onClick:n[7]||(n[7]=(...o)=>e.tai_thong_ke&&e.tai_thong_ke(...o))}," Tải thống kê ")])])])}const gn=K(L,[["render",ln],["__scopeId","data-v-3a877a76"]]);export{gn as default};
